---
layout: /src/layouts/ProjectLayout.astro
title: "Juego: Laberinto de Moustros"
pubDate: 2025-05-19
description: "Laberinto de Monstruos Un emocionante juego 2D de acci√≥n y aventura, desarrollado en Python con la popular librer√≠a PyGame."
languages: ["python"]
image:
  url: "/images/projects/laberinto.jpg"
  alt: "Laberinto de Monstruos"
---

Este proyecto es **open source**. Se ha puesto especial √©nfasis en la **Programaci√≥n Orientada a Objetos (POO)** con el fin de crear una experiencia que no solo sea divertida, sino tambi√©n profundamente did√°ctica.

<div class="mt-5 mb-8 flex flex-wrap gap-4">

  <div class="w-fit h-fit from-transparentbg-conic/[from_var(--border-angle)] p-px hover:shadow-lg hover:shadow-mint-500/30 rounded-full animate-rotate-border">
    <a style="text-decoration:none" href="https://github.com/felipesanchez-dev/Laberinto-de-Moustros"
       class="group cursor-pointer leading-none hover:scale-110 font-medium flex gap-2 transition-all ease-in-out justify-center items-center rounded-full disabled:opacity-50 disabled:cursor-not-allowed px-6 py-4 max-xl:px-5 max-sm:py-2 max-sm:px-3 text-lg max-xl:text-base max-sm:text-sm dark:bg-zinc-800 bg-zinc-800 no-underline decoration-none"
       target="_blank" rel="noopener noreferrer" role="button" aria-label="Ver c√≥digo fuente del proyecto Huellitas en Casa en GitHub">
      <svg class="size-7" fill="#ffffff" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52" enable-background="new 0 0 52 52" xml:space="preserve" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <g> <path d="M51.8,25.1C47.1,15.6,37.3,9,26,9S4.9,15.6,0.2,25.1c-0.3,0.6-0.3,1.3,0,1.8C4.9,36.4,14.7,43,26,43 s21.1-6.6,25.8-16.1C52.1,26.3,52.1,25.7,51.8,25.1z M26,37c-6.1,0-11-4.9-11-11s4.9-11,11-11s11,4.9,11,11S32.1,37,26,37z"></path> <path d="M26,19c-3.9,0-7,3.1-7,7s3.1,7,7,7s7-3.1,7-7S29.9,19,26,19z"></path> </g> </g></svg>
      <span class="decoration-none text-gray-200">Ver Demo</span>
    </a>
  </div>

  <div class="w-fit h-fit from-transparentbg-conic/[from_var(--border-angle)] p-px hover:shadow-lg hover:shadow-mint-500/30 rounded-full animate-rotate-border">
    <a style="text-decoration:none" href="https://github.com/felipesanchez-dev/Laberinto-de-Moustros"
       class="group cursor-pointer leading-none hover:scale-110 font-medium flex gap-2 transition-all ease-in-out justify-center items-center rounded-full disabled:opacity-50 disabled:cursor-not-allowed px-6 py-4 max-xl:px-5 max-sm:py-2 max-sm:px-3 text-lg max-xl:text-base max-sm:text-sm dark:bg-zinc-800 bg-zinc-800 no-underline decoration-none"
       target="_blank" rel="noopener noreferrer" role="button" aria-label="Ver c√≥digo fuente del proyecto Huellitas en Casa en GitHub">
      <svg class="size-7" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>github [#ffffff]</title> <desc>Created with Sketch.</desc> <defs> </defs> <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Dribbble-Light-Preview" transform="translate(-140.000000, -7559.000000)" fill="#ffffff"> <g id="icons" transform="translate(56.000000, 160.000000)"> <path d="M94,7399 C99.523,7399 104,7403.59 104,7409.253 C104,7413.782 101.138,7417.624 97.167,7418.981 C96.66,7419.082 96.48,7418.762 96.48,7418.489 C96.48,7418.151 96.492,7417.047 96.492,7415.675 C96.492,7414.719 96.172,7414.095 95.813,7413.777 C98.04,7413.523 100.38,7412.656 100.38,7408.718 C100.38,7407.598 99.992,7406.684 99.35,7405.966 C99.454,7405.707 99.797,7404.664 99.252,7403.252 C99.252,7403.252 98.414,7402.977 96.505,7404.303 C95.706,7404.076 94.85,7403.962 94,7403.958 C93.15,7403.962 92.295,7404.076 91.497,7404.303 C89.586,7402.977 88.746,7403.252 88.746,7403.252 C88.203,7404.664 88.546,7405.707 88.649,7405.966 C88.01,7406.684 87.619,7407.598 87.619,7408.718 C87.619,7412.646 89.954,7413.526 92.175,7413.785 C91.889,7414.041 91.63,7414.493 91.54,7415.156 C90.97,7415.418 89.522,7415.871 88.63,7414.304 C88.63,7414.304 88.101,7413.319 87.097,7413.247 C87.097,7413.247 86.122,7413.234 87.029,7413.87 C87.029,7413.87 87.684,7414.185 88.139,7415.37 C88.139,7415.37 88.726,7417.2 91.508,7416.58 C91.513,7417.437 91.522,7418.245 91.522,7418.489 C91.522,7418.76 91.338,7419.077 90.839,7418.982 C86.865,7417.627 84,7413.783 84,7409.253 C84,7403.59 88.478,7399 94,7399" id="github-[#ffffff]"> </path> </g> </g> </g> </g></svg>
      <span class="decoration-none text-gray-200">Ver C√≥digo</span>
    </a>
  </div>
  
</div>

## üìú Sobre el Juego

En **Laberinto de Monstruos**, te encontrar√°s en una misteriosa isla habitada por criaturas hostiles. Tu misi√≥n es clara: explorar, combatir y superar a todos los monstruos y jefes formidables que custodian cada rinc√≥n. Solo al vencer a los guardianes de la isla podr√°s desbloquear el portal escondido y asegurar tu escape.

Estar√°s equipado con un variado arsenal de espadas y contar√°s con habilidades m√°gicas como regeneraci√≥n, hechizos de da√±o en √°rea ¬°y mucho m√°s! Prep√°rate para una aventura desafiante y entretenida. **Ten en cuenta que si tu contador de vida llega a cero (indicando que has muerto), el juego se reiniciar√° completamente sin guardar tus avances. ¬°Esto a√±ade una capa extra de dificultad a tu misi√≥n!**

## ‚ú® Caracter√≠sticas Principales

- **Exploraci√≥n 2D:** Navega por una isla llena de secretos y peligros.
- **Combate Din√°mico:** Enfr√©ntate a diversos monstruos y jefes desafiantes.
- **Arsenal Variado:** Utiliza diferentes espadas para adaptarte a cada combate.
- **Poderes M√°gicos:** Desata habilidades como regeneraci√≥n, da√±o de √°rea y m√°s.
- **Progresi√≥n:** Derrota jefes para desbloquear el portal de escape.
- **Educativo:** Desarrollado con POO y PyGame, ideal para aprender y ver conceptos en acci√≥n.

## üéÆ Controles

Para navegar y luchar en la isla, necesitar√°s dominar los siguientes controles:

- **Movimiento:**
  - `‚¨Ü` - Mover Arriba
  - `‚¨á` - Mover Abajo
  - `‚¨Ö` - Mover Izquierda
  - `‚û°` - Mover Derecha
    _(El juego permite movimiento en 8 direcciones, incluyendo diagonales)._
- **Cambiar de Arma:** Tecla `Q`
- **Cambiar de Poder M√°gico:** Tecla `W`
- **Atacar / Usar Habilidad:** `Barra Espaciadora`

## üë®‚Äçüíª Desarrollo y C√≥digo Fuente

Este juego fue concebido y desarrollado por aprendizaje. El c√≥digo fuente est√° completamente disponible para ti. ¬°Si√©ntete libre de explorarlo, utilizarlo y modificarlo! Esperamos que te sirva como herramienta de aprendizaje y experimentaci√≥n.

## üìö ¬°Tutorial Completo Pr√≥ximamente!

Como parte de este proyecto, se ha realizado una **grabaci√≥n completa de m√°s de 10 horas** que documenta todo el proceso de desarrollo del juego, paso a paso. Este material se publicar√° en los pr√≥ximos d√≠as en mi üåê **Sitio Web:** [felipesanchezdev.site](https://felipesanchezdev.site).

Actualmente, el sitio web se encuentra en mantenimiento mientras se implementa una nueva secci√≥n de blog. El tutorial completo se publicar√° en dicha secci√≥n tan pronto como est√© disponible. ¬°Mantente atento a las actualizaciones!

El objetivo es ofrecer un **tutorial exhaustivo y explicativo**, detallando qu√© significa cada l√≠nea de c√≥digo y c√≥mo se integran los diferentes componentes del juego. ¬°Una oportunidad √∫nica para ver el desarrollo de un juego con PyGame desde cero!

---

¬°Espero que disfrutes de **Laberinto de Monstruos** y que el c√≥digo te sea de gran utilidad en tu camino de aprendizaje con Python y PyGame!

---

## üìÑ Documentaci√≥n

### üìÅ `main.py`

> **Ubicaci√≥n:** `client/src/main.py` > **Prop√≥sito:** Punto de entrada principal del juego **Laberinto de Moustros**. Inicializa la ventana, el bucle principal y la m√∫sica, y gestiona los eventos globales.

## 1. Importaciones

- **socket:** (No utilizado directamente en este archivo, pero preparado para futuras funciones de red).
- **pygame, sys:** Librer√≠as principales para gr√°ficos, eventos y cierre del juego.
- **settings:** Importa constantes globales como `WIDTH`, `HEIGTH`, `FPS`, `WATER_COLOR`, etc.
- **Level:** Clase que gestiona la l√≥gica del nivel, sprites y el jugador.

---

## 2. Clase `Game`

La clase principal que representa el ciclo de vida del juego.

### 2.1. `__init__`

- **Inicializaci√≥n de Pygame:** Prepara todos los m√≥dulos de Pygame.
- **Ventana:** Crea la ventana del juego con el tama√±o definido en `settings.py`.
- **T√≠tulo:** Establece el nombre de la ventana.
- **Reloj:** Controla los FPS del juego.
- **Nivel:** Instancia la clase `Level`, que contiene toda la l√≥gica del mapa, jugador y enemigos.
- **M√∫sica:** Carga y reproduce en bucle la m√∫sica principal del juego.

---

### 2.2. `run`

- **Bucle principal:** Se ejecuta indefinidamente hasta que el usuario cierra la ventana.
- **Gesti√≥n de eventos:**
  - **Salir:** Si el usuario cierra la ventana, termina el programa limpiamente.
  - **Tecla `M`:** Alterna el men√∫ de mejoras del jugador.
- **Dibujo:**
  - **Fondo:** Rellena la pantalla con el color del agua (`WATER_COLOR`).
  - **Nivel:** Llama al m√©todo `run()` de la clase `Level` para actualizar y dibujar todos los elementos del juego.
  - **Actualizaci√≥n:** Refresca la pantalla y mantiene la velocidad de fotogramas constante.

---

## 3. Ejecuci√≥n del Juego

- Si el archivo se ejecuta directamente, crea una instancia de `Game` y llama a su m√©todo `run()` para iniciar el juego.

---

## 4. Eventos y Controles

- **Cerrar ventana:** Sale del juego.
- **Tecla `M`:** Abre/cierra el men√∫ de mejoras del jugador.

---

## 5. Notas sobre el Audio

- El archivo de audio principal debe estar en `client/audio/main.ogg`.
- El volumen est√° reducido al 20% para no ser invasivo.
- La m√∫sica se reproduce en bucle infinito durante toda la partida.

---

## 6. Dependencias

- [pygame](https://www.pygame.org/)
- Python 3.x
- Archivos y carpetas definidos en `settings.py` y `level.py`

## üìù Resumen

Este archivo es el **coraz√≥n** del juego: inicializa la ventana, la m√∫sica, el bucle principal y delega la l√≥gica del juego a la clase `Level`. Es el punto de partida para cualquier modificaci√≥n global del comportamiento del juego.

---

## üìÅ `player.py`

> **Ubicaci√≥n:** `client/src/player.py`  
> **Prop√≥sito:** Define la clase `Player`, que representa al jugador principal del juego, gestionando su movimiento, ataques, magias, animaciones, estad√≠sticas y l√≥gica de muerte/reinicio.

---

## üß© Paradigma: Programaci√≥n Orientada a Objetos (POO)

Este archivo es un claro ejemplo de **POO** en Python.  
La clase `Player` hereda de la clase base `Entity`, encapsulando atributos y comportamientos propios del jugador.  
Esto permite reutilizar y extender funcionalidades, facilitando la mantenibilidad y escalabilidad del c√≥digo.

## 1. Clase `Player`

### 1.1. Inicializaci√≥n y atributos

- **Herencia:**  
  `Player` hereda de `Entity`, lo que le otorga capacidades de movimiento, animaci√≥n y colisiones.
- **Atributos principales:**
  - `image`, `rect`, `hitbox`: Gr√°ficos y colisiones.
  - `animations`: Diccionario de animaciones por estado.
  - `status`: Estado actual (ej: 'down', 'up_attack', etc).
  - `attacking`, `attack_cooldown`, `attack_time`: Control de ataques.
  - `weapon`, `magic`: Arma y magia equipadas, con √≠ndices para cambiar entre ellas.
  - `stats`, `max_stats`, `upgrade_cost`: Estad√≠sticas y mejoras del jugador.
  - `health`, `energy`, `exp`, `speed`: Valores actuales de vida, energ√≠a, experiencia y velocidad.
  - `vulnerable`, `hurt_time`, `invulnerability_duration`: Control de da√±o e invulnerabilidad temporal.
  - `is_dead`, `trigger_game_restart`: L√≥gica de muerte y reinicio del juego.

### 1.2. M√©todos principales

- **import_player_assets:**  
  Carga todas las animaciones del jugador desde los recursos gr√°ficos.

- **input:**  
  Gestiona la entrada del usuario (movimiento, ataque, magia, cambio de arma/magia).  
  Si el jugador est√° muerto, ignora las entradas.

- **get_status:**  
  Actualiza el estado (`status`) del jugador seg√∫n su movimiento y acciones.

- **cooldowns:**  
  Controla los tiempos de espera para ataques, cambios de arma/magia e invulnerabilidad.

- **animate:**  
  Actualiza el frame de animaci√≥n seg√∫n el estado actual y aplica efectos visuales (parpadeo al recibir da√±o).

- **get_full_weapon_damage / get_full_magic_damage:**  
  Calculan el da√±o total considerando estad√≠sticas y arma/magia equipada.

- **energy_recovery:**  
  Recupera energ√≠a autom√°ticamente seg√∫n la estad√≠stica de magia.

- **update:**  
  M√©todo principal llamado cada frame.  
  Gestiona entradas, actualizaciones de estado, movimiento, recuperaci√≥n de energ√≠a, l√≥gica de muerte y animaci√≥n.

---

## 2. Principales responsabilidades

- **Movimiento y animaci√≥n:**  
  El jugador puede moverse en 4 direcciones y tiene animaciones para cada estado (idle, ataque, etc).

- **Ataques y magias:**  
  Permite atacar con armas o lanzar magias, cada una con su propio cooldown y efectos.

- **Gesti√≥n de estad√≠sticas:**  
  Vida, energ√≠a, ataque, magia, velocidad y experiencia, con posibilidad de mejorar mediante el men√∫ de upgrades.

- **Invulnerabilidad temporal:**  
  Tras recibir da√±o, el jugador es invulnerable durante un breve periodo (efecto parpadeo).

- **Cambio de arma y magia:**  
  El jugador puede alternar entre diferentes armas y magias disponibles.

- **Muerte y reinicio:**  
  Si la vida llega a 0, se activa la bandera `is_dead` y se llama a la funci√≥n de reinicio del juego.

---

## 3. Notas sobre el dise√±o

- **Extensible:**  
  Gracias a la herencia y la separaci√≥n de responsabilidades, es f√°cil a√±adir nuevas armas, magias o comportamientos.

- **Encapsulamiento:**  
  Los atributos y m√©todos est√°n bien organizados, facilitando el mantenimiento y la comprensi√≥n del c√≥digo.

- **Reutilizaci√≥n:**  
  Al heredar de `Entity`, se evita duplicar l√≥gica com√∫n entre jugador y enemigos.

## üìù Resumen

El archivo `player.py` es un pilar fundamental del juego, implementando toda la l√≥gica y comportamiento del personaje principal bajo un enfoque orientado a objetos.  
Permite una experiencia de juego fluida, personalizable y f√°cilmente ampliable.

---

## üìÅ `ui.py`

> **Ubicaci√≥n:** `client/src/ui.py`  
> **Prop√≥sito:** Gestiona y dibuja la interfaz gr√°fica de usuario (UI) del juego, mostrando barras de vida, energ√≠a, experiencia, armas y magias equipadas.

---

## üß© Paradigma: Programaci√≥n Orientada a Objetos (POO)

La clase `UI` encapsula toda la l√≥gica y los datos relacionados con la interfaz gr√°fica del jugador.  
Esto permite separar claramente la presentaci√≥n visual del resto de la l√≥gica del juego, facilitando la mantenibilidad y la extensi√≥n del c√≥digo.

---

---

## 1. Clase `UI`

### 1.1. Inicializaci√≥n y atributos

- **display_surface:**  
  Superficie principal donde se dibuja la UI (la ventana del juego).
- **font:**  
  Fuente utilizada para los textos de la interfaz.
- **health_bar_rect, energy_bar_rect, experience_bar_rect:**  
  Rect√°ngulos que definen la posici√≥n y tama√±o de las barras de vida, energ√≠a y experiencia.
- **weapon_graphics, magic_graphics:**  
  Listas de im√°genes de armas y magias, cargadas desde los recursos definidos en `settings.py`.

### 1.2. M√©todos principales

- **show_bar(current, max_amount, bg_rect, color):**  
  Dibuja una barra de progreso (vida, energ√≠a, experiencia) con su fondo y borde.

- **show_exp(exp):**  
  Muestra la cantidad actual de experiencia en la esquina inferior derecha de la pantalla.

- **selection_box(left, top, has_switched):**  
  Dibuja una caja de selecci√≥n para indicar el arma o magia equipada, resaltando si ha habido un cambio reciente.

- **weapon_overlay(weapon_index, has_switched):**  
  Muestra el sprite del arma equipada en la interfaz, usando la caja de selecci√≥n.

- **magic_overlay(magic_index, has_switched):**  
  Muestra el sprite de la magia equipada en la interfaz, usando la caja de selecci√≥n.

- **display(player):**  
  M√©todo principal que dibuja todos los elementos de la interfaz seg√∫n el estado actual del jugador.

---

## 2. Principales responsabilidades

- **Visualizaci√≥n de estad√≠sticas:**  
  Muestra de forma clara y visual la vida, energ√≠a y experiencia del jugador.
- **Equipamiento:**  
  Indica qu√© arma y magia est√°n equipadas actualmente, con sprites y cajas de selecci√≥n.
- **Feedback visual:**  
  Resalta los cambios de arma/magia y muestra la experiencia de forma destacada.

---

## 3. Notas sobre el dise√±o

- **Separaci√≥n de responsabilidades:**  
  Toda la l√≥gica de la interfaz est√° contenida en una sola clase, facilitando su modificaci√≥n y extensi√≥n.
- **Escalabilidad:**  
  Es sencillo a√±adir nuevas barras, iconos o elementos visuales siguiendo el mismo patr√≥n.
- **Reutilizaci√≥n:**  
  Los m√©todos como `show_bar` y `selection_box` pueden ser reutilizados para otros elementos visuales.

---

## üìù Resumen

El archivo `ui.py` es esencial para la experiencia de usuario, proporcionando informaci√≥n visual clara y atractiva sobre el estado del jugador y sus recursos.  
Su dise√±o orientado a objetos permite mantener el c√≥digo organizado y f√°cilmente ampliable.

---

# Gu√≠a de Instalaci√≥n: Laberinto de Monstruos

Esta gu√≠a te ayudar√° a configurar el entorno de desarrollo para el proyecto "Laberinto de Monstruos". Se recomienda el uso de entornos virtuales de Python para gestionar las dependencias del proyecto de forma aislada.

## Requisitos Previos

- **Python 3.x:** Aseg√∫rate de tener Python 3 instalado en tu sistema. Puedes descargarlo desde [python.org](https://www.python.org/).
- **Git:** Necesitar√°s Git para clonar el repositorio. Puedes descargarlo desde [git-scm.com](https://git-scm.com/).

# üìå Nota Importante sobre Recursos Gr√°ficos

Para acelerar el desarrollo de este proyecto, se han utilizado recursos visuales del excelente paquete **[Ninja Adventure Asset Pack](https://pixel-boy.itch.io/ninja-adventure-asset-pack)**, una creaci√≥n de **Pixel-boy**.

> ‚ú® ¬°Todo el reconocimiento y los cr√©ditos por el arte son para ellos! üé®

---

## üí¨ ¬°Conectemos!

üìß **Correo:** [felipe@felipesanchezdev.site](mailto:felipe@felipesanchezdev.site) <br>
üîó **GitHub del Proyecto:** [[Codigo fuente](https://github.com/felipesanchez-dev/Laberinto-de-Moustros)]

---
